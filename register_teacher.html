<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add People</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="register_teacher.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script>
        function handleCancel() {
            // Go back to the previous page
            window.history.back();
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Select all required inputs, select elements, and date inputs, as well as specific elements by ID
            const requiredElements = document.querySelectorAll(
                'input[required]:not(#middle-name), select[required], input[type="date"][required], #job-started, #position, #grade-level, #role, #department'
            );

            requiredElements.forEach(element => {
                const label = element.previousElementSibling;
                if (label) {
                    // Create the icon
                    const icon = document.createElement('img');
                    // Use a relative path assuming assets are in a folder next to this HTML file
                    icon.src = './Assets/Circle_Warning.png';
                    icon.alt = 'Required field';
                    icon.classList.add('required-icon'); // Add class for styling

                    // Append the icon after the label text
                    label.appendChild(icon);
                }
            });
        });
    </script>

    <style>
        /* Style for the required field icon */
        .required-icon {
            width: 12px; /* Smaller size for the icon */
            height: 12px;
            margin-left: 5px; /* Space between label and icon */
            vertical-align: middle; /* Align icon with text */
        }
    </style>
</head>
<body>
    <div class="header-background"></div>
    <header>
        <nav>
            <div class="logo">
                <img src="Assets\DepEdLogo.png.png" id="logo" alt="DepEd Logo">
            <ul>
                <li><a href="index.html" class="active"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
                <li><a href="contact.html"><i class="fas fa-envelope"></i> Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <h1>Add people</h1>
        <form action="" class="add-people-form">
            <div class="form-row">
                <label for="employee-id">Employee ID</label>
                <input type="text" id="employee-id" name="employee_id" required>
            </div>
            
            <div class="form-row name-fields">
                <div>
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" name="first_name" required>
                </div>
                <div>
                    <label for="middle-name">Middle Name</label>
                    <input type="text" id="middle-name" name="middle_name">
                </div>
                <div>
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" name="last_name" required>
                </div>
            </div>
        
            <div class="form-row">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" required>
            </div>
        
            <div class="form-row">
                <label for="job-started">Job Started</label>
                <input type="date" id="job-started" name="job_started">
            </div>
        
            <div class="form-row">
                <label for="position">Position</label>
                <select id="position" name="position">
                    <option value="" disabled selected>Select Position</option>
                    <option value="Teacher I">Teacher I</option>
                    <option value="Teacher II">Teacher II</option>
                    <option value="Teacher III">Teacher III</option>
                    <option value="Master Teacher I">Master Teacher I</option>
                    <option value="Master Teacher II">Master Teacher II</option>
                    <option value="Master Teacher III">Master Teacher III</option>
                    <option value="Master Teacher IV">Master Teacher IV</option>
                    <option value="Head Teacher I">Head Teacher I</option>
                    <option value="Head Teacher II">Head Teacher II</option>
                    <option value="Head Teacher III">Head Teacher III</option>
                    <option value="Head Teacher IV">Head Teacher IV</option>
                    <option value="Head Teacher V">Head Teacher V</option>
                    <option value="Head Teacher VI">Head Teacher VI</option>
                    <option value="Assistant School Principal I">Assistant School Principal I</option>
                    <option value="Assistant School Principal II">Assistant School Principal II</option>
                    <option value="Assistant School Principal III">Assistant School Principal III</option>
                    <option value="School Principal I">School Principal I</option>
                    <option value="School Principal II">School Principal II</option>
                    <option value="School Principal III">School Principal III</option>
                    <option value="School Principal IV">School Principal IV</option>
                    <!-- more options... -->
                </select>
            </div>
        
            <div class="form-row">
                <label for="grade-level">Grade Level</label>
                <select id="grade-level" name="grade-level">
                    <option value="" disabled selected>Select Grade Level</option>
                    <option value="grade 1">Grade 1</option>
                    <option value="grade 2">Grade 2</option>
                    <option value="grade 3">Grade 3</option>
                    <option value="grade 4">Grade 4</option>
                    <option value="grade 5">Grade 5</option>
                    <option value="grade 6">Grade 6</option>
                    <option value="grade 7">Grade 7</option>
                    <option value="grade 8">Grade 8</option>
                    <option value="grade 9">Grade 9</option>
                    <option value="grade 10">Grade 10</option>
                    <option value="grade 11">Grade 11</option>
                    <option value="grade 12">Grade 12</option>
                    <!-- Add more options as needed -->
                    <!-- more options... -->
                </select>
            </div>
        
        
            <div class="form-row">
                <label for="department">Department</label>
                <select id="department" name="department">
                    <option value="" disabled selected>Select Department</option>
                    <option value="MTB-MLE">MTB-MLE</option>
                        <option value="Madrash Alive">Madrasah ALIVE</option>
                        <option value="Filipino">Filipino</option>
                        <option value="English">English</option>
                        <option value="Mathematics">Mathematics</option>
                        <option value="Science">Science</option>
                        <option value="Araling Panlipunan">Araling Panlipunan</option>
                        <option value="Edukasyon sa Pagpapakatao">Edukasyon sa Pagpapakatao</option>
                        <option value="MAPEH">MAPEH</option>
                        <option value="Music">Music</option>
                        <option value="Arts">Arts</option>
                        <option value="Physical Education">Physical Education</option>
                        <option value="Health">Health</option>
                        <option value="TLE/EPP-HE">TLE/EPP-HE</option>
                        <option value="TLE/EPP-LE/Tech-Voc">TLE/EPP-LE/Tech-Voc</option>
                        <option value="ALS">ALS</option>
                        <option value="IPED">IPED</option>
                        <option value="Special Programs">Special Programs</option>
                </select>
            </div>

            <div class="form-row">
                <label for="school">School</label>
                <select id="school" name="school">
                    <option value="" disabled selected>Select School</option>
                </select>
            </div>
        
            <div class="form-row">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
            </div>
        
            <div class="form-row">
                <label for="confirm-password">Confirm Password</label>
                <input type="password" id="confirm-password" name="confirm_password" required>
            </div>
        
            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="handleCancel()">Cancel</button>
                <button type="submit" class="register-btn">Register</button>
            </div>
        </form>
    </div>
    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal hidden">
        <div class="modal-content">
            <p>Are you sure you want to logout?</p>
            <div class="modal-buttons">
                <button class="yes-btn">Yes</button>
                <button class="no-btn">No</button>
            </div>
        </div>
    </div>
    
    <script>// Modal logic
        const logoutButton = document.getElementById('logoutLink');  // Logout button
        const logoutModal = document.getElementById('logoutModal');
        const yesButton = document.querySelector('.yes-btn');
        const noButton = document.querySelector('.no-btn');
        
        // Show modal when logout is clicked
        logoutButton.addEventListener('click', function(event) {
            event.preventDefault();  // Prevent default logout behavior
            logoutModal.classList.remove('hidden');  // Show modal by removing 'hidden' class
        });
        
        // Hide modal when "No" is clicked
        noButton.addEventListener('click', function() {
            logoutModal.classList.add('hidden');  // Hide modal by adding 'hidden' class
        });
        
        // Redirect when "Yes" is clicked
        yesButton.addEventListener('click', async function() {
    try {
        
        const response = await fetch('https://bnahs.pythonanywhere.com/api/user/logout/', {
            method: 'POST',
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
                
            },
            credentials: 'include',
        });

        const data = await response.json();
        if (response.ok) {
            console.log("Success Data : ", data); 
            window.location.href = '../../get-started.html'; 
        } else {
            console.log("Error Data : ", data);
        }
    } catch (error) {
        console.error("Error during fetch:", error);
    }
});</script>
    <script src="add-people.js" type="module"></script>
</body>
</html>
